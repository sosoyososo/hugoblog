---
title: '2D动画怎么计算'
date: Mon, 17 May 2021 02:22:55 +0000
draft: false
tags: ['瞎逼逼']
---

2D图像所有的点都在一个面上，一个面上的点，确定了坐标系，我们可以用2\*1的向量来表示二维空间中任意一点。 2D动画可以细化分为平移、缩放、旋转，所有复杂的动画都是通过他们组合而来； 在平移的场景，平移也可以用向量来表示；原位置为(X, Y)的点，平移向量为(x, y), 那么最终位置是(X+x, Y+y); 在缩放场景，缩放也可以用向量来表示在两个轴向的缩放程度； 原位置为(X, Y)，缩放比例为(Sx, Sy), 那么点(X, Y)最终位置将会是`(X*Sx, Y*Sy)`; 再来看旋转场景，旋转场景需要由旋转中心点和旋转角度来表示；原位置(X, Y),以(x, y)为中心点，旋转角度å1，计算方法如下：

> 1.  原始点和旋转点之间的连线向量为(X-x, Y-y),
> 2.  他们跟x正轴夹角的三角函数tan值是 ((Y-y)/(X-x))，
> 3.  夹角 å2 = atan(((Y-y)/(X-x)));
> 4.  新的角度 å = å2 + å1;
> 5.  新的点的位置是 \`\`\`(x+tan(å)\*(X-x), y + ctan(å)\*(Y-y))\`\`\`；

想的都很好，但实际上几乎我知道的所有绘图引擎都不用这种方案，反而用了看起来不很直观的矩阵来进行计算；