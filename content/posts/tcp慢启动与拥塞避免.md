---
title: 'tcp慢启动与拥塞避免'
date: Tue, 27 Feb 2018 03:12:36 +0000
draft: false
tags: ['网络']
---

tcp是传输层传输二进制流的协议，通过确认重传机制数据包计数保证数据到达和到达的顺序。在传输过程中，使用满启动和拥塞避免来达到数据传输的最大效率。

### 慢启动

为了达到最好的效率，避免网络堵塞，tcp层使用了拥塞算法。慢启动是拥塞算法的一个组成部分。慢启动用语tcp初次启动，避免一次性过多的向网络中传送过多数据，导致网络拥塞。具体做法: 1\. 发送端维护一个被称为拥塞窗口的变量cwnd 2. tcp启动，第一次发送一个cwnd=1的包，并等待确认 3. 确认后发送cwnd=cwnd\*2的包，等待确认 4. 重复第三步骤，知道cwnd>=ssthresh(慢启动门限也是tcp维护的一个值)，之后转到拥塞避免算法

### 拥塞避免

慢启动结束后转到拥塞避免算法： 1. 发送一个cwnd的包，等待确认 2. 发送一个cwnd=cwnd+1的包，等待确认 3. 重复第二步骤，知道无法受到确认(网络拥塞发生)

### 拥塞处理

当没有及时收到tcp确认的时候，被认为网络拥塞发生，执行拥塞处理，减小向网络发送数据的量，使得中间设备能够有时间发送没有发送完的数据，具体做法是： 1. 设置cwnd=1 2. 设置ssthresh为发生拥塞时候cwnd的一半(还有其他处理方式) 3. 重新开始执行慢启动